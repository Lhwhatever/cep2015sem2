{% extends "task_index.html" %}
{% load humanize %}

{% block navbarleft %}
<li><a href="{%url 'task_index' %}"><span class="glyphicon glyphicon-check"></span> Task List</a></li>
<li><a href="{%url 'tags_index' %}"><span class="glyphicon glyphicon-tags"></span> Tags List</a></li>
{% endblock %}

{% block content %}
{% if task %}

<br>
<div class="panel panel-{{ task.get_associated_class }}">
    <div class="panel-heading">
        <h1 class="panel-title">{{ task.title }}</h1>
    </div>
    <div class="panel-body">
        {{ task.content }}
    </div>
    <div class="panel-footer">
        This task is {{ task.is_completed|yesno:"c,inc" }}omplete. Completion is scheduled for {{ task.date_end|date:"Y M d, D, H:i" }} ({{ task.date_end|naturaltime }}).
        <br><br>
        Tags: {% for tag in task.tags.all %} <a href="{%url 'tags_detail' tag.id %}" style="background-color: {{ tag.bgc_hex }}; color: {{ tag.color_hex }}" class="badge">{{ tag.title }}</a> {% empty %} None. {% endfor %}
        <br><br>
        <div class="btn-group" role="group" aria-label="...">
            <a class="btn btn-primary" href="{%url 'task_index' %}" data-toggle="tooltip" data-placement="bottom" title="Task List"><span class="glyphicon glyphicon-th-list"></span></a>
            <a href="{%url 'task_update' task.id %}" class="btn btn-info" data-toggle="tooltip" data-placement="bottom" title="Edit"><span class="glyphicon glyphicon-asterisk"></span></a>
            <a href="{%url 'task_delete' task.id %}" class="btn btn-danger" data-toggle="tooltip" data-placement="bottom" title="Delete"><span class="glyphicon glyphicon-trash"></span></a>
        </div>
    </div>
</div>
{% else %}
<div class="panel panel-danger">
    <div class="panel-heading">
        <h1 class="panel-title">No such task!</h1>
    </div>
    <div class="panel-body">
        There is no task with this ID number.
    </div>
    <div class="panel-footer">
        <div class="btn-group" role="group" aria-label="...">
            <a class="btn btn-primary" href="{%url 'task_index' %}" data-toggle="tooltip" data-placement="bottom" title="Task List"><span class="glyphicon glyphicon-th-list"></span></a>
        </div>
    </div>
</div>
{% endif%}
{% endblock %}